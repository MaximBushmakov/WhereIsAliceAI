# Работа с тестовой программой

Для использования файла требуется компьютер с видеокартой Nvidia с compute capability 7.0 или больше (RTX 20 или больше) и CUDA версии 12.4 или больше.

Собранный файл для Windows лежит в ./build_base/test.exe.

В папке ./tests лежат тесты, которые можно запустить.

Пример использования: ./build_base/test.exe door. В этом случае будет использован файл ./tests/door.actions, результаты работы появятся в папке ./out/door/.

Варианты запуска:

1. "./build_base/test.exe housetohouse allow-death": сбрасывает симулятор в начальное состояние, если здоровье игрока меньше 0.
2. "./build_base/test.exe housetohouse time": не создаёт картинки/таблицы/гифки, подходит для сравнения времени работы.

В файлах .actions записан список действий для агентов в следующем порядке: игрок, нижний астральный, верхний астральный, левый культист, правый культист. Список действий можно посмотреть в первом перечислении в каждом класса в файле character.cu (или в ПМИ).

# Локальная компиляция программы

Для компиляции программы требуется установленный CUDA Toolkit. Разработка велась в рамках CUDA 12.8, необходима версия хотябы CUDA 12.4.

Если CUDA Toolkit не установлен, требуется перед установкой обновить драйвер Nvidia.

Для Windows также требуется компилятор Visual Studio 2022. cl.exe должен быть в PATH.

Все действия в корневой папке (WhereIsAliceAI).

При первом запуске:

```
make init

make test
```

Если комманды верно отработали, то в папке./out будут начальные картинки тестовой карты, последнее сообщение будет no error.

Для исполнения действий, записанных в файле ./tests/door.actions нужно вызвать:

```
./build/exe/test.exe door
```

Детали использования те же, что и у базовой версии (./build_base/test.exe)
